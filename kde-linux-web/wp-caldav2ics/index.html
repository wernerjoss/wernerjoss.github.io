<!DOCTYPE html>
<html lang="">
	<head>
			<meta charset="utf-8" />
		<title>WP-CalDav2ICS | Hoernerfranzracing</title>

		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="icon" type="image/png" href="/user/themes/myvela/images/favicon.ico" />   		<meta name="generator" content="GravCMS" />
<meta name="description" content="Motorradsport unter Freunden" />

		<link rel="canonical" href="./kde-linux-web/wp-caldav2ics" />
				<link rel="preload" href=/werner/user/themes/myvela/fonts/fontawesome-webfont.woff2?v=4.7.0  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-300.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-300italic.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-regular.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-italic.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-500.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-500italic.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-700.woff2  as="font" crossorigin="">
		<link rel="preload" href=/werner/user/themes/myvela/fonts/roboto-v20-latin-700italic.woff2  as="font" crossorigin="">

																						 			 		
																
							<link href="/assets/d6502bb3b9720afeb16e07f83ef1b182.css" type="text/css" rel="stylesheet">

			<script src="/werner/assets/a9e5ab09eff08c476502ecc0633daeb2.js"></script>
<script>
window.addEventListener("load", function() {

	var pluginConfig = {"enabled":true,"custom":false,"position":"bottom-right","compliance":"info","palette":"gray","layout":"classic","informations":"\/werner\/impressum\/datenschutz","banner_message":"Wir setzen nur technisch notwendige Cookies - diese k\u00f6nnen nicht abgelehnt werden","banner_dismiss":"Ok","banner_accept":"","banner_policy":""};
	var cookieconsentInitialse = {
		"position": pluginConfig.position,
		"theme": pluginConfig.layout,
		"type": pluginConfig.compliance,

		"content": createCookieContent(pluginConfig),
		"palette": createCookiePalette(pluginConfig.palette)
	}

		if (pluginConfig.custom)
	{
		var customInitialise = JSON.parse(
			pluginConfig.custom_config.replace(/\r?\n|\r/g,'')
		);
		cookieconsentInitialse = Object.assign({}, cookieconsentInitialse, customInitialise);
	}

		window.cookieconsent.initialise(cookieconsentInitialse);
});

function createCookiePalette(configPalette)
{
	var palette = {
		"popup": {},
		"button": {}
	};

	if (configPalette === "black")
	{
		palette.popup.background = "#000";
		palette.button.background = "#f1d600";
	}

	if (configPalette === "white")
	{
		palette.popup.background = "#eaf7f7";
		palette.popup.text = "#5c7291";

		palette.button.background = "#56cbdb";
		palette.button.text = "#ffffff";
	}

	if (configPalette === "gray")
	{
		palette.popup.background = "#252e39";
		palette.button.background = "#14a7d0";
	}

	return palette;
}

function createCookieContent(config)
{
	var cookieContent = {};

	cookieContent.message = "Diese Webseite verwendet Cookies, um Ihnen einen besseren Service bieten zu können. Durch die weitere Nutzung der Seite stimmen Sie der Verwendung zu.";
	if (config.banner_message)
	{
		cookieContent.message = config.banner_message;
	}

	cookieContent.dismiss = "OK";
	if (config.banner_dismiss)
	{
		cookieContent.dismiss = config.banner_dismiss;
	}

	cookieContent.deny = "PLUGINS.SIMPLE_COOKIE.BANNER_DENY";
	if (config.banner_deny)
	{
		cookieContent.deny = config.banner_deny;
	}


	cookieContent.allow = "Weitere Informationen";
	if (config.banner_accept)
	{
		cookieContent.allow = config.banner_accept;
	}

	cookieContent.link = "Weitere Informationen";
	if (config.banner_policy)
	{
		cookieContent.link = config.banner_policy;
	}

	cookieContent.href = "https://cookiesandyou.com";
	if (config.informations)
	{
		cookieContent.href = config.informations;
	}

	return cookieContent;
}
</script>
<script>
$(document).ready(function(){
    $('a[rel="lightbox"]').featherlight({
        openSpeed: 250,
        closeSpeed: 250,
        closeOnClick: 'background',
        closeOnEsc: '1',
        root: 'body',
        afterContent: function() {
            var caption = this.$currentTarget.find('img').attr('alt');
            this.$instance.find('.caption').remove();
            $('<div class="caption">').text(caption).appendTo(this.$instance.find('.featherlight-content'));
        }
    });
});
</script>

		
		<style>
            .notices.yellow p::after {
        content: "";
        } 
        .notices.red p::after {
        content: "";
        }
        .notices.blue p::after {
        content: "";
        }
        .notices.green p::after {
        content: "";
        } 
                @media screen and (min-width: 1200px) {
            .slideout-panel {
            margin-left: 320px;
            }

            .slideout-menu {
            display: block;
            }

            .toggle-button {
            visibility: hidden;
            }
            .page-title{ 
                margin-top: 35px;
            }
        }
    </style>		</head>
	<body>
					<div class="main-nav" id="menu">
			  <div class="flex-container">
    <a href="/" class="sidebar-brand">
              <img
          src="/werner/user/themes/myvela/images/logo.png"
          style="object-fit: contain;
                          height:165px;
                                      max-width: 100%;
                        "
          alt="">
            
    </a>
    <div style="padding-left: 15px;margin-bottom: 0.25em;">      <h4>Hoernerfranzracing</h4>
    <h6>Motorradsport unter Freunden</h6></div>
</div>

<nav class="sidebar-nav">
<ul class="metismenu"  id="metismenu">
                                                            <li>
                <a href="/about" class="  webkitNoSelect" aria-expanded="false">
                    About
                </a>
            </li>
                                                                <li>
                <a href="/allgemein" class="  webkitNoSelect" aria-expanded="false">
                    Allgemeine Informationen
                </a>
            </li>
                                                                <li>
                <a href="/links" class="  webkitNoSelect" aria-expanded="false">
                    Links
                </a>
            </li>
                                                                <li class="mm-active">
                <a href="/kde-linux-web" class="mm-active  has-arrow webkitNoSelect" aria-expanded=&quot;true&quot;>
                    EDV / Linux /Web
                </a>
                <ul class="mm-show">
                                                                            <li class="">
                <a href="/kde-linux-web/tips-and-tricks" class="  has-arrow webkitNoSelect" aria-expanded=&quot;false&quot;>
                    Tips &amp; Tricks
                </a>
                <ul class="">
                                                                            <li>
                <a href="/kde-linux-web/tips-and-tricks/dokumente-in-der-cloud" class="  webkitNoSelect" aria-expanded="false">
                    Dokumente in der Cloud
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/tips-and-tricks/web-development-with-grav-cms" class="  webkitNoSelect" aria-expanded="false">
                    Web Development with GRAV Cms
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/tips-and-tricks/docker-grav-xdebug" class="  webkitNoSelect" aria-expanded="false">
                    Docker Grav Xdebug
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/tips-and-tricks/vpn" class="  webkitNoSelect" aria-expanded="false">
                    VPN
                </a>
            </li>
            
                </ul>
            </li>
                                                                <li>
                <a href="/kde-linux-web/kde-blog" class="  webkitNoSelect" aria-expanded="false">
                    EDV Archiv
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/wp-ics-importer" class="  webkitNoSelect" aria-expanded="false">
                    WP-ICS Importer
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/wp-caldav2ics" class="mm-active active-page webkitNoSelect" aria-expanded="false">
                    WP-CalDav2ICS
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/spam" class="  webkitNoSelect" aria-expanded="false">
                    SPAM
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/gubed" class="  webkitNoSelect" aria-expanded="false">
                    Gubed
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/ldap" class="  webkitNoSelect" aria-expanded="false">
                    LDAP
                </a>
            </li>
                                                                <li>
                <a href="/kde-linux-web/email-encryption" class="  webkitNoSelect" aria-expanded="false">
                    Email Encryption
                </a>
            </li>
            
                </ul>
            </li>
                                                                <li>
                <a href="/kalender" class="  webkitNoSelect" aria-expanded="false">
                    Kalender
                </a>
            </li>
                                                                <li>
                <a href="/forum" class="  webkitNoSelect" aria-expanded="false">
                    Forum
                </a>
            </li>
                                                                <li>
                <a href="/impressum" class="  webkitNoSelect" aria-expanded="false">
                    Impressum
                </a>
            </li>
                                                                <li>
                <a href="/archiv" class="  webkitNoSelect" aria-expanded="false">
                    Blog-Archiv
                </a>
            </li>
            
</ul>
</nav>
<div style="padding-left: 15px;margin-top: 0.1em;">
  <div class="search-wrapper">
    <form name="search" data-simplesearch-form>
        <input
            name="searchfield"
            class="search-input"
            aria-label="search"
            type="text"
             data-min="3"             required
            placeholder="Suche …"
            value=""
            data-search-invalid="Bitte geben Sie mindestens 3 Zeichen ein"
            data-search-separator=":"
            data-search-input="/werner/search/query"
        />
            </form>
</div>
</div>
<div style="padding-left: 15px;margin-top: 0.4em;">
        <a class="button" href="/blog.rss"><i class="fa fa-rss-square"></i> RSS</a>
</div>

		</div>
			
			<main id="panel" class="slideout-panel">
			  <div class="toggle-button hamburger hamburger--spin">
    <div class="hamburger-box">
        <div class="hamburger-inner"></div>
    </div>
  </div>
  <article class="post-2 page type-page status-publish hentry">
    <header class="entry-header">
            </header>
    <div class="entry-content">
     <h1>WP-CalDav2ICS</h1>
<!--
![](/uploads/2018/10/icon-128x128.png)
-->
<img class="alignleft wp-image-1989 size-full" src="/werner/uploads/2018/10/icon-128x128.png" alt="" width="128" height="128" />
<p>This is a Wordpress Plugin I wrote intentionally for my personal use, and, of course, also as an exercise.
The need for such a thing was a direct follow-up to the effort to move my personal data away from Google, the first step for that was to abandon Google Calendar and Google Contacts and host these on my own Server using <a href="/blog/baikal">Baikal</a> (and no, I won't argue here about why one would want to move away from the technically brillant, 'free' solutions for personal data management from Google - anyone interested in that may ask me directly... - or just ask Google about reasons for that &#128522; ).
After having this running smoothly, I felt it would be a good Idea to also feed my <a href="/kalender">public Calendar</a> automatically from there (yes, 'automatically' is the keyword here: manually exporting to an ICS File is not a problem, but also not an elegant solution).
First step to achieve this was of course searching for a Wordpress Plugin that would be able to do this, but, what the heck: I could not find one !
Although there is a huge number of Calendar Plugins out there, which can directly use (or at least import) .ics Files, Google Calendars, Facebook Calendars and what not, the search on <a href="https://wordpress.org/plugins/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">Wordpress Plugins</a> for 'caldav calendar' simply revealed nothing usable.
So, what to do now ?
Basically, there would be these Options:</p>
<ol>
    <li>Pick one of the existing Calendar Plugins and extend it to connect to a CalDav Server</li>
    <li>Write a Calendar Plugin from scratch that connects to a CalDav Server and also does all the rest I would like to have (Full Calendar, Sidebar Widget, Events List...)</li>
    <li>Write a Plugin that would create one of the common Calendar Format Files and use that with an existing Calendar Plugin.</li>
</ol>
<p>After some thinking over the whole thing, I decided to go for Option #3, as this would result in higher flexibility, especially not tieing the new functionality to a specific Calendar Plugin.</p>
<p>In fact, with approach #3, anyone having a personal CalDav Calendar Resource available can then just use any of the numerous Calendar Plugins out there that are able to directly use .ics files, install this Plugin in Addition and then point the Calendar Plugin of choice to the .ics file generated automatically at the desired Time Schedule.</p>
<p>So what would be the steps to achieve the desired goal ?</p>
<ol>
    <li>Create a comprehensive Plugin Skeleton, which would be easily extendible</li>
    <li>Setting up an easy to use Admin Page for the CalDav Server URL, Credentials etc.</li>
    <li>Schedule the Process of connecting to the Server and creating a Calendar Data File from there via WP Cron</li>
    <li>Implement the actual Action: creating the Calendar Data File</li>
</ol>
<p>As for Steps #1 and #2, I found a well documented Tool at <a href="http://plugin.michael-simpson.com/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">http://plugin.michael-simpson.com/</a> which is a big help, IMHO, so thanks a lot to Michael Simpson !
Step #3, then, would be possible to be realized according to the <a href="https://developer.wordpress.org/plugins/cron/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">Wordpress Cron Documentation</a> with the help of <a href="https://wordpress.org/plugins/wp-crontrol/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">WP Crontrol</a> for testing and debugging.
The last Step then, #4, could be realized following the proposals on <a href="https://uname.pingveno.net/blog/index.php/post/2016/07/30/Sample-public-calendar-for-ownCloud-using-ICS-parser" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">pingveno.net</a>.
(In fact, this last Step was actually the first thing I checked out and proved to be working for me, still without any Wordpress Plugin Stuff around).</p>
<p>And now, after some fiddling around and debugging, the Plugin is in a state that <em>worksforme</em> &#128522; - no more, no less, but I also felt there might be someone out there who would also benefit from such a thing, so I decided to already make it publicly available - in a first step, on my persononal Website - anyone interested can download it from Github (see End of Article).</p>
<p>But be warned: USE AT YOUR OWN RISK !</p>
<p>(Should not be too risky, though, as there isn't anywhere a functionality which could compromise/delete any valuable data, especially calendars etc... - the risk is mainly, that it just might not work)</p>
<p>Currently, I'm trying to figure out what still has to be done to make this available to a bigger audience by publishing it in the Wordpress Plugin Directory, which is my intention - I'm pretty sure someone else can use it too...
So, what is left to be done before publishing to WP Dir:</p>
<ul>
    <li>be sure everthing works as expected</li>
    <li>Check for (more) possible missing/faulty Settings and warn User, if any of these found</li>
    <li>Check out the <a href="https://developer.wordpress.org/plugins/wordpress-org/detailed-plugin-guidelines/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">WP Plugin Developer Docs</a> to ensure all requirements are met</li>
    <li>Check the <a href="https://make.wordpress.org/core/handbook/best-practices/coding-standards/php/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">WP Coding Style Standards</a> and correct any (big) faults in the Plugin Code</li>
    <li>create some comprehensive Icon(s)/Logo(s) for the Plugin</li>
    <li>Prepare for Internationalisation and provide at least a german Translation</li>
</ul>
<p>As soon as this is done, I will try to get the Plugin published on <a href="https://wordpress.org/plugins/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">WP Plugins</a> to reach a bigger audience, and, of course, write a Blog Post about that &#128522; - stay tuned !</p>
<p>Update (17.11.2018):</p>
<p>The Plugin has now been checked by the WP Staff, and, after some back-and forth (mainly due to using plain <a href="https://curl.haxx.se/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">curl</a> instead of the <a href="https://developer.wordpress.org/plugins/http-api/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">WP http API</a>), accepted - check it out <a href="https://wordpress.org/plugins/wp-caldav2ics/" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">here</a> .</p>
<p>Update (19.02.2019):</p>
<p>Version 1.1.0 is out - a major Improvement: this can now handle more than one CalDav Calendar at once !
This feature has been asked for in the WP Support forum, but to be honest, I had thought about that already before &#128522; .
Additionally, the Development Version is now always available at <a href="https://github.com/wernerjoss/wp-caldav2ics" target="_blank" rel="noopener nofollow noreferrer" class="external-link no-image">GitGub</a> - be sure to check the File readme.txt there if you want to try that !</p>     </div>

                 
  </article>
										<a href="javascript:" id="return-to-top">

<i class="fa fas fa-chevron-up"></i>
</a>
					</main>
	
		
			<script src="/werner/assets/3c211ab80e5b4172dfc6a545e993b4fe.js"></script>
 		</body>
</html>
